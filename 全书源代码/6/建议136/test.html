<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<script type="text/javascript">
// 获取指定元素距离父元素左上角的偏移坐标
// 参数：e表示获取位置的元素
// 返回值：返回对象直接量，其中属性x表示x轴偏移距离，属性y表示y轴偏移距离
function getP(e){
    if(e.parentNode == e.offsetParent){ 
        var x = e.offsetLeft; 
        var y = e.offsetTop ;
    }
    else{
        var o = getW(e);
        var p = getW(e.parentNode);
        var x = o.x - p.x;
        var y = o.y - p.y;
    }
    return {
        "x" : x, 
        "y" : y
    }; 
}
// 获取指定元素距离包含块元素左上角的偏移坐标
// 参数：e表示获取位置的元素
// 返回值：返回对象直接量，其中属性x表示x轴偏移距离，属性y表示y轴偏移距离
function getB(e){
    return {
        "x" : (parseInt(getStyle(e, "left")) || 0) ,
        "y" : (parseInt(getStyle(e, "top")) || 0) 
    };
}

</script>
</head>
<body>


<style type="text/css">
div {
    width:200px; height:100px; border:solid 1px red; padding:50px;
}
#wrap {
    position:relative;
    border-width:20px; 
}
</style>
<div id="wrap">

</div>

<script language="javascript" type="text/javascript">
var box = document.getElementById("box");
var o = getP(box); 
alert(o.x); 
alert(o.y); 

</script>



</body>
</html>
