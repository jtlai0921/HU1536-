<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<script type="text/javascript">

		 
</script>
</head>
<body>
<div id="box" ></div>
<script language="javascript" type="text/javascript">
// 初始化拖放对象
var box = document.getElementById("box");// 获取页面中被拖放元素的引用指针
box.style.position = "absolute"; 
box.style.width = "160px"; 
box.style.height = "120px"; 
box.style.backgroundColor = "red"; 
// 初始化变量，标准化事件对象
var mx, my, ox, oy; 
function e(event){ // 定义事件对象标准化函数
   if( ! event){ 
      event = window.event;
      event.target = event.srcElement;
      event.layerX = event.offsetX;
      event.layerY = event.offsetY;
   }
   event.mx = event.pageX || event.clientX + document.body.scrollLeft; //计算鼠标指针的x轴距离
   event.my = event.pageY || event.clientY + document.body.scrollTop; //计算鼠标指针的y轴距离
   return event; 
}
// 定义鼠标事件处理函数
document.onmousedown = function(event){ // 按下鼠标时初始化处理
   event = e(event); 
   o = event.target; 
   ox = parseInt(o.offsetLeft);
   oy = parseInt(o.offsetTop); 
   mx = event.mx; 
   my = event.my;标
   document.onmousemove = move;
   document.onmouseup = stop; 
}
function move(event){ // 鼠标移动处理函数
   event = e(event);
   o.style.left = ox + event.mx - mx  + "px"; 
   o.style.top = oy + event.my - my + "px"; 
}
function stop(event){ // 松开鼠标处理函数
   event = e(event);
   ox = parseInt(o.offsetLeft); 
   oy = parseInt(o.offsetTop); 
   mx = event.mx ; 
   my = event.my ; 
   o = document.onmousemove = document.onmouseup = null;象
}
</script>


</body>
</html>
